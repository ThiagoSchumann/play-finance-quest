import { TransportCommon } from './common.js';
export class Transport extends TransportCommon {
    constructor(io) {
        super();
        this.io = io;
        io.on('connection', (socket) => {
            const id = socket.client.id;
            this.onConnectedCb(socket, id);
            socket.on(':input', ({ prop, value }) => this.onInputCb(id, prop, value));
            socket.on(':action', ({ name, value }) => this.onActionCb(id, name, value));
            socket.on(':join', (roomId) => this.onJoinCb(roomId, id));
            socket.on('disconnect', () => this.onDisconnectedCb(id));
        });
    }
}
//# sourceMappingURL=socket.js.map